{"version":3,"file":"./lib/fxbuilder.min.js","mappings":"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","sources":["webpack://XMLBuilder/./src/xmlbuilder/json2xml.js","webpack://XMLBuilder/./src/xmlbuilder/orderedJs2Xml.js","webpack://XMLBuilder/webpack/bootstrap","webpack://XMLBuilder/webpack/startup"],"sourcesContent":["'use strict';\n//parse Empty Node as self closing node\nconst buildFromOrderedJs = require('./orderedJs2Xml');\n\nconst defaultOptions = {\n  attributeNamePrefix: '@_',\n  attributesGroupName: false,\n  textNodeName: '#text',\n  ignoreAttributes: true,\n  cdataPropName: false,\n  format: false,\n  indentBy: '  ',\n  suppressEmptyNode: false,\n  suppressUnpairedNode: true,\n  suppressBooleanAttributes: true,\n  tagValueProcessor: function(key, a) {\n    return a;\n  },\n  attributeValueProcessor: function(attrName, a) {\n    return a;\n  },\n  preserveOrder: false,\n  commentPropName: false,\n  unpairedTags: [],\n  entities: [\n    { regex: new RegExp(\"&\", \"g\"), val: \"&amp;\" },//it must be on top\n    { regex: new RegExp(\">\", \"g\"), val: \"&gt;\" },\n    { regex: new RegExp(\"<\", \"g\"), val: \"&lt;\" },\n    { regex: new RegExp(\"\\'\", \"g\"), val: \"&apos;\" },\n    { regex: new RegExp(\"\\\"\", \"g\"), val: \"&quot;\" }\n  ],\n  processEntities: true,\n  stopNodes: [],\n  // transformTagName: false,\n  // transformAttributeName: false,\n};\n\nfunction Builder(options) {\n  this.options = Object.assign({}, defaultOptions, options);\n  if (this.options.ignoreAttributes || this.options.attributesGroupName) {\n    this.isAttribute = function(/*a*/) {\n      return false;\n    };\n  } else {\n    this.attrPrefixLen = this.options.attributeNamePrefix.length;\n    this.isAttribute = isAttribute;\n  }\n\n  this.processTextOrObjNode = processTextOrObjNode\n\n  if (this.options.format) {\n    this.indentate = indentate;\n    this.tagEndChar = '>\\n';\n    this.newLine = '\\n';\n  } else {\n    this.indentate = function() {\n      return '';\n    };\n    this.tagEndChar = '>';\n    this.newLine = '';\n  }\n}\n\nBuilder.prototype.build = function(jObj) {\n  if(this.options.preserveOrder){\n    return buildFromOrderedJs(jObj, this.options);\n  }else {\n    if(Array.isArray(jObj) && this.options.arrayNodeName && this.options.arrayNodeName.length > 1){\n      jObj = {\n        [this.options.arrayNodeName] : jObj\n      }\n    }\n    return this.j2x(jObj, 0).val;\n  }\n};\n\nBuilder.prototype.j2x = function(jObj, level) {\n  let attrStr = '';\n  let val = '';\n  for (let key in jObj) {\n    if (typeof jObj[key] === 'undefined') {\n      // supress undefined node\n    } else if (jObj[key] === null) {\n      if(key[0] === \"?\") val += this.indentate(level) + '<' + key + '?' + this.tagEndChar;\n      else val += this.indentate(level) + '<' + key + '/' + this.tagEndChar;\n      // val += this.indentate(level) + '<' + key + '/' + this.tagEndChar;\n    } else if (jObj[key] instanceof Date) {\n      val += this.buildTextValNode(jObj[key], key, '', level);\n    } else if (typeof jObj[key] !== 'object') {\n      //premitive type\n      const attr = this.isAttribute(key);\n      if (attr) {\n        attrStr += this.buildAttrPairStr(attr, '' + jObj[key]);\n      }else {\n        //tag value\n        if (key === this.options.textNodeName) {\n          let newval = this.options.tagValueProcessor(key, '' + jObj[key]);\n          val += this.replaceEntitiesValue(newval);\n        } else {\n          val += this.buildTextValNode(jObj[key], key, '', level);\n        }\n      }\n    } else if (Array.isArray(jObj[key])) {\n      //repeated nodes\n      const arrLen = jObj[key].length;\n      for (let j = 0; j < arrLen; j++) {\n        const item = jObj[key][j];\n        if (typeof item === 'undefined') {\n          // supress undefined node\n        } else if (item === null) {\n          if(key[0] === \"?\") val += this.indentate(level) + '<' + key + '?' + this.tagEndChar;\n          else val += this.indentate(level) + '<' + key + '/' + this.tagEndChar;\n          // val += this.indentate(level) + '<' + key + '/' + this.tagEndChar;\n        } else if (typeof item === 'object') {\n          val += this.processTextOrObjNode(item, key, level)\n        } else {\n          val += this.buildTextValNode(item, key, '', level);\n        }\n      }\n    } else {\n      //nested node\n      if (this.options.attributesGroupName && key === this.options.attributesGroupName) {\n        const Ks = Object.keys(jObj[key]);\n        const L = Ks.length;\n        for (let j = 0; j < L; j++) {\n          attrStr += this.buildAttrPairStr(Ks[j], '' + jObj[key][Ks[j]]);\n        }\n      } else {\n        val += this.processTextOrObjNode(jObj[key], key, level)\n      }\n    }\n  }\n  return {attrStr: attrStr, val: val};\n};\n\nBuilder.prototype.buildAttrPairStr = function(attrName, val){\n  val = this.options.attributeValueProcessor(attrName, '' + val);\n  val = this.replaceEntitiesValue(val);\n  if (this.options.suppressBooleanAttributes && val === \"true\") {\n    return ' ' + attrName;\n  } else return ' ' + attrName + '=\"' + val + '\"';\n}\n\nfunction processTextOrObjNode (object, key, level) {\n  const result = this.j2x(object, level + 1);\n  if (object[this.options.textNodeName] !== undefined && Object.keys(object).length === 1) {\n    return this.buildTextValNode(object[this.options.textNodeName], key, result.attrStr, level);\n  } else {\n    return this.buildObjectNode(result.val, key, result.attrStr, level);\n  }\n}\n\nBuilder.prototype.buildObjectNode = function(val, key, attrStr, level) {\n  if(val === \"\"){\n    if(key[0] === \"?\") return  this.indentate(level) + '<' + key + attrStr+ '?' + this.tagEndChar;\n    else {\n      return this.indentate(level) + '<' + key + attrStr + this.closeTag(key) + this.tagEndChar;\n    }\n  }else{\n\n    let tagEndExp = '</' + key + this.tagEndChar;\n    let piClosingChar = \"\";\n    \n    if(key[0] === \"?\") {\n      piClosingChar = \"?\";\n      tagEndExp = \"\";\n    }\n  \n    if (attrStr && val.indexOf('<') === -1) {\n      return ( this.indentate(level) + '<' +  key + attrStr + piClosingChar + '>' + val + tagEndExp );\n    } else if (this.options.commentPropName !== false && key === this.options.commentPropName && piClosingChar.length === 0) {\n      return this.indentate(level) + `<!--${val}-->` + this.newLine;\n    }else {\n      return (\n        this.indentate(level) + '<' + key + attrStr + piClosingChar + this.tagEndChar +\n        val +\n        this.indentate(level) + tagEndExp    );\n    }\n  }\n}\n\nBuilder.prototype.closeTag = function(key){\n  let closeTag = \"\";\n  if(this.options.unpairedTags.indexOf(key) !== -1){ //unpaired\n    if(!this.options.suppressUnpairedNode) closeTag = \"/\"\n  }else if(this.options.suppressEmptyNode){ //empty\n    closeTag = \"/\";\n  }else{\n    closeTag = `></${key}`\n  }\n  return closeTag;\n}\n\nfunction buildEmptyObjNode(val, key, attrStr, level) {\n  if (val !== '') {\n    return this.buildObjectNode(val, key, attrStr, level);\n  } else {\n    if(key[0] === \"?\") return  this.indentate(level) + '<' + key + attrStr+ '?' + this.tagEndChar;\n    else {\n      return  this.indentate(level) + '<' + key + attrStr + '/' + this.tagEndChar;\n      // return this.buildTagStr(level,key, attrStr);\n    }\n  }\n}\n\nBuilder.prototype.buildTextValNode = function(val, key, attrStr, level) {\n  if (this.options.cdataPropName !== false && key === this.options.cdataPropName) {\n    return this.indentate(level) + `<![CDATA[${val}]]>` +  this.newLine;\n  }else if (this.options.commentPropName !== false && key === this.options.commentPropName) {\n    return this.indentate(level) + `<!--${val}-->` +  this.newLine;\n  }else if(key[0] === \"?\") {//PI tag\n    return  this.indentate(level) + '<' + key + attrStr+ '?' + this.tagEndChar; \n  }else{\n    let textValue = this.options.tagValueProcessor(key, val);\n    textValue = this.replaceEntitiesValue(textValue);\n  \n    if( textValue === ''){\n      return this.indentate(level) + '<' + key + attrStr + this.closeTag(key) + this.tagEndChar;\n    }else{\n      return this.indentate(level) + '<' + key + attrStr + '>' +\n         textValue +\n        '</' + key + this.tagEndChar;\n    }\n  }\n}\n\nBuilder.prototype.replaceEntitiesValue = function(textValue){\n  if(textValue && textValue.length > 0 && this.options.processEntities){\n    for (let i=0; i<this.options.entities.length; i++) {\n      const entity = this.options.entities[i];\n      textValue = textValue.replace(entity.regex, entity.val);\n    }\n  }\n  return textValue;\n}\n\nfunction indentate(level) {\n  return this.options.indentBy.repeat(level);\n}\n\nfunction isAttribute(name /*, options*/) {\n  if (name.startsWith(this.options.attributeNamePrefix)) {\n    return name.substr(this.attrPrefixLen);\n  } else {\n    return false;\n  }\n}\n\nmodule.exports = Builder;\n","const EOL = \"\\n\";\n\n/**\n * \n * @param {array} jArray \n * @param {any} options \n * @returns \n */\nfunction toXml(jArray, options) {\n    let indentation = \"\";\n    if (options.format && options.indentBy.length > 0) {\n        indentation = EOL;\n    }\n    return arrToStr(jArray, options, \"\", indentation);\n}\n\nfunction arrToStr(arr, options, jPath, indentation) {\n    let xmlStr = \"\";\n    let isPreviousElementTag = false;\n\n    for (let i = 0; i < arr.length; i++) {\n        const tagObj = arr[i];\n        const tagName = propName(tagObj);\n        let newJPath = \"\";\n        if (jPath.length === 0) newJPath = tagName\n        else newJPath = `${jPath}.${tagName}`;\n\n        if (tagName === options.textNodeName) {\n            let tagText = tagObj[tagName];\n            if (!isStopNode(newJPath, options)) {\n                tagText = options.tagValueProcessor(tagName, tagText);\n                tagText = replaceEntitiesValue(tagText, options);\n            }\n            if (isPreviousElementTag) {\n                xmlStr += indentation;\n            }\n            xmlStr += tagText;\n            isPreviousElementTag = false;\n            continue;\n        } else if (tagName === options.cdataPropName) {\n            if (isPreviousElementTag) {\n                xmlStr += indentation;\n            }\n            xmlStr += `<![CDATA[${tagObj[tagName][0][options.textNodeName]}]]>`;\n            isPreviousElementTag = false;\n            continue;\n        } else if (tagName === options.commentPropName) {\n            xmlStr += indentation + `<!--${tagObj[tagName][0][options.textNodeName]}-->`;\n            isPreviousElementTag = true;\n            continue;\n        } else if (tagName[0] === \"?\") {\n            const attStr = attr_to_str(tagObj[\":@\"], options);\n            const tempInd = tagName === \"?xml\" ? \"\" : indentation;\n            let piTextNodeName = tagObj[tagName][0][options.textNodeName];\n            piTextNodeName = piTextNodeName.length !== 0 ? \" \" + piTextNodeName : \"\"; //remove extra spacing\n            xmlStr += tempInd + `<${tagName}${piTextNodeName}${attStr}?>`;\n            isPreviousElementTag = true;\n            continue;\n        }\n        let newIdentation = indentation;\n        if (newIdentation !== \"\") {\n            newIdentation += options.indentBy;\n        }\n        const attStr = attr_to_str(tagObj[\":@\"], options);\n        const tagStart = indentation + `<${tagName}${attStr}`;\n        const tagValue = arrToStr(tagObj[tagName], options, newJPath, newIdentation);\n        if (options.unpairedTags.indexOf(tagName) !== -1) {\n            if (options.suppressUnpairedNode) xmlStr += tagStart + \">\";\n            else xmlStr += tagStart + \"/>\";\n        } else if ((!tagValue || tagValue.length === 0) && options.suppressEmptyNode) {\n            xmlStr += tagStart + \"/>\";\n        } else if (tagValue && tagValue.endsWith(\">\")) {\n            xmlStr += tagStart + `>${tagValue}${indentation}</${tagName}>`;\n        } else {\n            xmlStr += tagStart + \">\";\n            if (tagValue && indentation !== \"\" && (tagValue.includes(\"/>\") || tagValue.includes(\"</\"))) {\n                xmlStr += indentation + options.indentBy + tagValue + indentation;\n            } else {\n                xmlStr += tagValue;\n            }\n            xmlStr += `</${tagName}>`;\n        }\n        isPreviousElementTag = true;\n    }\n\n    return xmlStr;\n}\n\nfunction propName(obj) {\n    const keys = Object.keys(obj);\n    for (let i = 0; i < keys.length; i++) {\n        const key = keys[i];\n        if (key !== \":@\") return key;\n    }\n}\n\nfunction attr_to_str(attrMap, options) {\n    let attrStr = \"\";\n    if (attrMap && !options.ignoreAttributes) {\n        for (let attr in attrMap) {\n            let attrVal = options.attributeValueProcessor(attr, attrMap[attr]);\n            attrVal = replaceEntitiesValue(attrVal, options);\n            if (attrVal === true && options.suppressBooleanAttributes) {\n                attrStr += ` ${attr.substr(options.attributeNamePrefix.length)}`;\n            } else {\n                attrStr += ` ${attr.substr(options.attributeNamePrefix.length)}=\"${attrVal}\"`;\n            }\n        }\n    }\n    return attrStr;\n}\n\nfunction isStopNode(jPath, options) {\n    jPath = jPath.substr(0, jPath.length - options.textNodeName.length - 1);\n    let tagName = jPath.substr(jPath.lastIndexOf(\".\") + 1);\n    for (let index in options.stopNodes) {\n        if (options.stopNodes[index] === jPath || options.stopNodes[index] === \"*.\" + tagName) return true;\n    }\n    return false;\n}\n\nfunction replaceEntitiesValue(textValue, options) {\n    if (textValue && textValue.length > 0 && options.processEntities) {\n        for (let i = 0; i < options.entities.length; i++) {\n            const entity = options.entities[i];\n            textValue = textValue.replace(entity.regex, entity.val);\n        }\n    }\n    return textValue;\n}\nmodule.exports = toXml;\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(784);\n"],"names":["buildFromOrderedJs","require","defaultOptions","attributeNamePrefix","attributesGroupName","textNodeName","ignoreAttributes","cdataPropName","format","indentBy","suppressEmptyNode","suppressUnpairedNode","suppressBooleanAttributes","tagValueProcessor","key","a","attributeValueProcessor","attrName","preserveOrder","commentPropName","unpairedTags","entities","regex","RegExp","val","processEntities","stopNodes","Builder","options","this","Object","assign","isAttribute","attrPrefixLen","length","processTextOrObjNode","indentate","tagEndChar","newLine","object","level","result","j2x","undefined","keys","buildTextValNode","attrStr","buildObjectNode","repeat","name","startsWith","substr","prototype","build","jObj","Array","isArray","arrayNodeName","Date","attr","buildAttrPairStr","newval","replaceEntitiesValue","arrLen","j","item","Ks","L","closeTag","tagEndExp","piClosingChar","indexOf","textValue","i","entity","replace","module","exports","arrToStr","arr","jPath","indentation","xmlStr","isPreviousElementTag","newJPath","tagObj","tagName","propName","newIdentation","tagStart","attr_to_str","tagValue","endsWith","includes","attStr","tempInd","piTextNodeName","tagText","isStopNode","obj","attrMap","attrVal","lastIndexOf","index","jArray","__webpack_module_cache__","__webpack_exports__","__webpack_require__","moduleId","cachedModule","__webpack_modules__"],"sourceRoot":""}